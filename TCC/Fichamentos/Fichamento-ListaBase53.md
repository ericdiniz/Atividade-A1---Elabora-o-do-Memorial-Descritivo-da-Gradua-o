# On the Efficiency of Test Suite based Program Repair: A Systematic Assessment of 16 Automated Repair Systems for Java Programs

LIU, Kui et al. On the efficiency of test suite based program repair: A systematic assessment of 16 automated repair systems for java programs. In: Proceedings of the ACM/IEEE 42nd International Conference on Software Engineering. 2020. p. 615-627.

## 1. Fichamento de Conteúdo

O desenvolvimento de software tem sido transformado pela automação, com a reparação automática de programas (APR) baseada em testes emergindo como uma área de pesquisa promissora, buscando reduzir o esforço manual na correção de *bugs*. Embora a literatura tenha se concentrado na capacidade de ferramentas APR de corrigir um número crescente de *bugs*, há crescentes preocupações sobre a correção dos *patches* gerados e as limitações das avaliações existentes. Este artigo aborda a lacuna na compreensão da eficiência da geração de *patches*, um aspecto crucial para a adoção prática da APR. A medição de desempenho tradicional, baseada no tempo de execução, é considerada pouco confiável devido à sua dependência de variáveis externas e instabilidade. Para preencher essa lacuna, os autores propõem e aplicam uma métrica intrínseca: o número de candidatos a *patch* gerados (NPC).

A metodologia empregou um estudo empírico de larga escala, avaliando sistematicamente a eficiência de 16 ferramentas APR de código aberto para programas Java. Os experimentos foram cuidadosamente configurados para usar as mesmas configurações de localização de falhas, minimizando vieses. O conjunto de dados Defects4J foi utilizado como *benchmark* para os testes. O processo de validação de *patches* considerou tanto a plausibilidade (passar todos os testes) quanto a correção (similaridade semântica com *patches* de desenvolvedores, avaliada por um conjunto de regras). Um limite máximo de 10.000 tentativas de reparo foi estabelecido para cada *bug*. O estudo investigou três questões de pesquisa: a reparabilidade ao longo do tempo (RQ1), a eficiência da geração de *patches* (RQ2) e o impacto do "ruído" da localização de falhas na eficiência (RQ3).

Os principais resultados indicam que a eficiência ainda não é um objetivo de desempenho amplamente valorizado, com muitas ferramentas de ponta sendo as menos eficientes, gerando um grande número de candidatos a *patch* irrelevantes. Em particular, sistemas baseados em *templates*, embora eficazes na correção de *bugs*, são frequentemente ineficientes, produzindo muitos candidatos. No entanto, a eficiência pode ser substancialmente aprimorada quando os *templates* são especializados ou minerados de conjuntos de dados "limpos". Além disso, o estudo revela que o ruído na localização de falhas impacta significativamente tanto a reparabilidade quanto a eficiência, especialmente para ferramentas baseadas em *templates*, resultando na geração de mais *patches*.

## 2. Fichamento Bibliográfico

*   Automated Program Repair (APR): Campo de pesquisa proeminente em engenharia de software que visa a correção automática de *bugs* em programas, frequentemente utilizando suítes de testes como especificações parciais para validar os *patches* gerados.
*   Eficiência da Geração de Patches: Uma propriedade chave para a praticidade da reparação automática de programas, avaliada pelo número de tentativas que o sistema de reparo faz antes de encontrar um *patch* válido. Esta métrica é considerada intrínseca à abordagem de reparo, ao contrário do tempo de execução, que é instável e dependente de variáveis externas.
*   Patch Plausível: Um *patch* candidato que, ao ser aplicado, faz com que o programa modificado passe todos os casos de teste na suíte de testes (tanto os que passavam quanto os que falhavam na versão *buggy*). Embora passe os testes, pode ser semanticamente incorreto (overfitting).
*   Patch Correto: Um *patch* plausível que é considerado semanticamente similar ao *patch* fornecido pelo desenvolvedor no *benchmark*. A determinação de "correto" é frequentemente um esforço manual, mas o estudo propõe regras explícitas para essa avaliação.
*   Número de Candidatos a Patch (NPC): A métrica de eficiência central do estudo, que quantifica o total de candidatos a *patch* (incluindo *nonsensical*, *in-plausible* e *valid*) gerados por uma ferramenta APR até a identificação do primeiro *patch* plausível.
*   Ruído na Localização de Falhas: Refere-se à imprecisão nas informações de localização de falhas fornecidas às ferramentas APR, onde posições de código suspeitas podem ser falsos positivos. Este ruído tem um impacto significativo na eficiência e na capacidade de reparo das ferramentas.

## 3. Fichamento de Citações

*   "Although the literature regularly sets new records on the number of benchmark bugs that can be fixed, several studies increasingly raise concerns about the limitations and biases of state-of-the-art approaches."
*   "Nevertheless, there is little work addressing the efficiency of patch generation, with regard to the practicality of program repair."
*   "We postulate that the efficiency of test-based program repair should be assessed along with the following question: how many attempts does the repair system make before catching a valid patch?"
*   "Test suite based program repair systems commonly implement a three-step pipeline as illustrated in Figure 2: fault localization, which produces a ranked list of suspicious code locations that should be modified to fix the bug; patch generation, which implements the change operators that are applied on the buggy code locations; and patch validation, which executes the test cases to check that the patched program meets the behaviour (approximately) specified by the test suite."
*   "Template-based repair systems are generally inefficient as they produce too many patch candidates. However, when the templates are mined from clean datasets or are specialized to specific bugs, efficiency can be substantially improved."
*   "Fault localization is an important step in a repair pipeline. Its false positives, however, have a significant impact on both repairability and repair efficiency."